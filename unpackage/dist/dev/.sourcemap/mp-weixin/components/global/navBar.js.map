{"version":3,"sources":[null,"webpack:///G:/work/code/git/yueQun_uniapp/components/global/navBar.vue?c7b9","webpack:///G:/work/code/git/yueQun_uniapp/components/global/navBar.vue?f525","webpack:///G:/work/code/git/yueQun_uniapp/components/global/navBar.vue?a658","uni-app:///components/global/navBar.vue","webpack:///G:/work/code/git/yueQun_uniapp/components/global/navBar.vue?46c4","webpack:///G:/work/code/git/yueQun_uniapp/components/global/navBar.vue?b1a3"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACwM;AACxM,gBAAgB,4MAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4xB,CAAgB,2wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoChzB;AACA;AACA;AACA;AACA,kBAFA;AAGA;AACA;AACA,0BADA;;AAGA,OAPA,EADA,EADA;;;AAYA,MAZA,kBAYA;AACA;AACA,gBADA;AAEA,iBAFA;;AAIA,GAjBA;AAkBA,SAlBA,qBAkBA;AACA;AACA,GApBA;AAqBA;AACA,QADA,kBACA;;;;AAIA,qCAJA;AAKA,kDALA;AAMA,gDANA,iEAGA,UAHA,QAGA,UAHA,CAGA,aAHA,QAGA,aAHA;;AAQA,yDARA;;AAUA;AACA;;AAEA,kCAbA,GAaA,kCAbA;;AAeA;AACA,wCADA;AAEA,mDAFA;;;AAKA,gEApBA;;AAsBA;;AAEA;AACA,kCADA,IAxBA;;;AA4BA,KA7BA;AA8BA,mCA9BA,6CA8BA;AACA,2BADA,GACA,wBADA;AAEA,yBAFA,GAEA,WAFA,CAEA,SAFA;;AAIA,kCAJA;AAKA,qBALA;;;AAQA,+CARA,SAQA,iBARA;;;;;;;;;AAiBA,sCAjBA,EAUA,SAVA,yBAUA,SAVA,EAWA,OAXA,yBAWA,OAXA,EAYA,cAZA,yBAYA,cAZA,EAaA,mBAbA,yBAaA,mBAbA,EAcA,KAdA,yBAcA,KAdA,EAeA,wBAfA,yBAeA,wBAfA,EAgBA,gBAhBA,yBAgBA,gBAhBA;;AAmBA;AACA,2DADA;AAEA,4CAFA;AAGA,4DAHA,EAGA;AACA,+DAJA,EAIA;AACA,iDALA,EAKA;AACA,4EANA,EAMA;AACA,6DAPA,GAnBA;;AA4BA,KA1DA;;AA4DA,wBA5DA,kCA4DA;AACA,uBADA,GACA,WADA;AAEA,iCAFA,GAEA,yBAFA;;AAIA,mCAJA,SAIA,WAJA;;AAMA,0BANA,GAMA,kBANA;AAOA,6BAPA,GAOA,yCAPA;;AASA;AACA,6DAVA;;AAYA,0BAZA,gFAYA,GAZA;AAaA,oBAbA,GAaA,eAbA;;AAeA,2CAfA;AAgBA,yCAhBA;;;;;AAqBA,qEArBA;;AAuBA,iCAvBA;AAwBA,KApFA;;AAsFA,0BAtFA,oCAsFA;AACA;AACA;AACA;AACA,6CAFA;;AAIA;AACA;AACA,cADA,CACA,YADA;AAEA,0BAFA;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WALA,MAKA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wCADA;AAEA,kCAFA;;;AAKA;AACA;;AAEA;AACA,SA5BA;AA6BA,OAvCA;AAwCA,KA/HA;AAgIA,oBAhIA,8BAgIA;AACA;AACA;AACA,KAnIA,EArBA,E;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAynC,CAAgB,8jCAAG,EAAC,C;;;;;;;;;;;ACA7oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/global/navBar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./navBar.vue?vue&type=template&id=7c4a64b1&\"\nvar renderjs\nimport script from \"./navBar.vue?vue&type=script&lang=js&\"\nexport * from \"./navBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/global/navBar.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./navBar.vue?vue&type=template&id=7c4a64b1&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./navBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./navBar.vue?vue&type=script&lang=js&\"","<template>\r\n  <view :style=\"{height: navOpt.height}\">\r\n    <view\r\n      class=\"position-fixed z400 header-modules HEADERDOM\"\r\n      :style=\"{background: pageOpt.bgColor, opacity: initOptions && initOptions.opacity !== undefined ? initOptions.opacity : 1}\"\r\n    >\r\n      <view\r\n        class=\"position-relative main-content\"\r\n        :style=\"{\r\n          marginTop: navOpt.top, \r\n          textAlign: pageOpt.pageTitleAlign, \r\n          paddingLeft: pageOpt.pageTitleMarginSize, \r\n          color: pageOpt.pageTitleColor,\r\n        }\"\r\n      >\r\n        <view\r\n          class=\"position-absolute d-flex align-items-center left-btn-content\"\r\n          v-if=\"!pageOpt.disRenderBackBtn === true\"\r\n        >\r\n          <view\r\n            class=\"iconfont mr-20 icon-btn\"\r\n            @click=\"handleRouterBack()\"\r\n          >\r\n            <image class=\"imgCover\" src=\"/static/icon/com_back.png\" />\r\n          </view>\r\n          <view class=\"iconfont icon-btn\">\r\n            <slot></slot>\r\n          </view>\r\n        </view>\r\n        {{pageOpt.pageTitle !== null ? pageOpt.pageTitle : '页头'}}\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    initOptions: {\r\n      //navbarData   由父页面传递的数据，变量名字自命名\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          isTabPage: false,\r\n        };\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      navOpt: {},\r\n      pageOpt: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    async init() {\r\n      try {\r\n        //注意：使用微信开发者工具切换手机调试，需要清除清除掉缓存，不然高度会直接提取缓存中的信息\r\n        const { header_top, header_height } =\r\n          (await uni.$com.headerInfo) ||\r\n          (await uni.getStorageSync(\"headerInfo\")) ||\r\n          (await this.getHeaderBySystermInfo());\r\n\r\n        await this.setPageTitleByCurrentRouterInfo();\r\n\r\n        console.info(\"header_top\", header_top);\r\n        console.info(\"header_height\", header_height);\r\n\r\n        const headerTotallHeight = header_top - 1 + 1 + header_height;\r\n\r\n        this.navOpt = {\r\n          top: header_top + \"px\",\r\n          height: headerTotallHeight + \"px\",\r\n        };\r\n\r\n        this.$emit(\"headerHeight\", headerTotallHeight);\r\n      } catch (error) {\r\n        console.error(\"error\", error);\r\n\r\n        uni.$toast({\r\n          msh: error,\r\n        });\r\n      }\r\n    },\r\n    async setPageTitleByCurrentRouterInfo() {\r\n      let initOptions = this.initOptions || {};\r\n      let { isTabPage } = initOptions;\r\n\r\n      if (isTabPage === true) {\r\n        return false;\r\n      }\r\n\r\n      const currentRouterInfo = await this.getCurrentRouterInfo();\r\n      const {\r\n        pageTitle,\r\n        bgColor,\r\n        pageTitleAlign,\r\n        pageTitleMarginSize,\r\n        color,\r\n        headerBottomDividingLine,\r\n        disRenderBackBtn,\r\n      } = currentRouterInfo.meta;\r\n\r\n      this.pageOpt = {\r\n        pageTitle: initOptions.title || pageTitle,\r\n        bgColor: bgColor || \"#fff\",\r\n        pageTitleAlign: pageTitleAlign || \"center\", //标题对齐方式\r\n        pageTitleMarginSize: pageTitleMarginSize || 0, //标题的距离边界\r\n        pageTitleColor: color || \"#000\", //标题颜色\r\n        headerBottomDividingLine: headerBottomDividingLine || null, //nav底部的分界线\r\n        disRenderBackBtn: disRenderBackBtn || false,\r\n      };\r\n    },\r\n\r\n    async getCurrentRouterInfo() {\r\n      const $router = uni.$router;\r\n      let currentRouterInfo = $router.currentRouterInfo;\r\n\r\n      const currentPage = await getCurrentPages();\r\n\r\n      const routerList = $router.routerList;\r\n      const currentRouter = currentPage[currentPage.length - 1].route;\r\n\r\n      console.info(\"currentPage\", currentPage);\r\n      console.info(\"currentRouter\", currentRouter);\r\n\r\n      for (let key in routerList) {\r\n        const item = routerList[key];\r\n\r\n        if (item.path === currentRouter) {\r\n          currentRouterInfo = item;\r\n          break;\r\n        }\r\n      }\r\n\r\n      console.info(\"currentRouterInfo\", currentRouterInfo);\r\n\r\n      return currentRouterInfo;\r\n    },\r\n\r\n    getHeaderBySystermInfo() {\r\n      return new Promise((resolve) => {\r\n        let menuButton =\r\n          uni.getMenuButtonBoundingClientRect &&\r\n          uni.getMenuButtonBoundingClientRect();\r\n\r\n        const domQuery = uni.createSelectorQuery().in(this);\r\n        const boundingClientRect = domQuery\r\n          .select(\".HEADERDOM\")\r\n          .boundingClientRect();\r\n\r\n        boundingClientRect.exec((res) => {\r\n          const header_height = res[0].height;\r\n          let menuBtn_height;\r\n          let menuBtn_top;\r\n          let header_top;\r\n\r\n          if (menuButton) {\r\n            menuBtn_height = menuButton.height;\r\n            menuBtn_top = menuButton.top;\r\n\r\n            header_top = menuBtn_top - (header_height - menuBtn_height) / 2;\r\n          } else {\r\n            header_top = 0;\r\n          }\r\n\r\n          console.info(\"header_height\", header_height);\r\n          console.info(\"menuBtn_height\", menuBtn_height);\r\n          console.info(\"header_top\", header_top);\r\n\r\n          const headerInfo = {\r\n            header_height,\r\n            header_top,\r\n          };\r\n\r\n          uni.$com.headerInfo = headerInfo;\r\n          uni.setStorageSync(\"headerInfo\", headerInfo);\r\n\r\n          resolve(headerInfo);\r\n        });\r\n      });\r\n    },\r\n    handleRouterBack() {\r\n      console.info(\"1212\");\r\n      uni.$router.back(-1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n.header-modules {\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n}\r\n.header-modules .main-content {\r\n  height: 88rpx;\r\n  line-height: 88rpx;\r\n  text-align: center;\r\n  font-size: 18px;\r\n}\r\n\r\n.header-modules .main-content .left-btn-content {\r\n  left: 12rpx;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n}\r\n\r\n.header-modules .main-content .left-btn-content .icon-btn {\r\n  border: 10rpx solid transparent;\r\n}\r\n</style>","import mod from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./navBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./navBar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1600832608997\n      var cssReload = require(\"G:/HBuilderX.2.8.11.20200907.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}